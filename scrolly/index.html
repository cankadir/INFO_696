<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Testing Sticky</title>

    <!-- Enter View tracks the scroll -->
    <script src="https://unpkg.com/enter-view@1.0.0/enter-view.min.js"></script>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <link rel="stylesheet" type="text/css" href="style.css" media="screen" />

    <!-- Open Sans from Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans:wght@400;700&display=swap" rel="stylesheet"> 
    
</head>

<!-- Data is saved to a js file -->
<script type="module" src="data.js"></script>

<body>
    
    <!-- Header or Intro -->
    <section class='filler'>
        <h2 style="margin-top: 5rem;">
            This is a demo for sticky scrolling 
        </h2>
        <p>
            This page is an example of integrating a scrollytelling method -<i>sticky css position</i>- with d3. D3 is not used as a charting library but as a short hand to retrieve DOM elements.
        </p>
        <p>
            Animated bar chart is drawn using d3 as well as a div with its width adjusted by scroll. Data.js contains a very simple dictionary containing indexes and values. Floating boxes are generated using D3 based on data values. All animations are generated through CSS. 
        </p>
    </section>
      
    <!-- Scrolling elements start here -->
    <section id='scrolly-overlay'>
    
        <div class='scrolly'>
            
            <!--  sticky graphic: This is what stays at the back   -->
            <figure class='sticky'>
                <div class='bar-outer'>
                    <div class='bar-inner'></div>
                </div>
            </figure>
            
            <!--  step text goes here -> from D3 -->
            <!-- Floating windows will come here from JS as article element-->
            <!-- const article = scrolly.append("article") -->

        </div>
    
    </section>
      
    <!-- Some more test here -->
    <section class="filler">
        <p>
            Here is a chart using the same data. Same JS enter view method can be used for interacting with a single object as well. The graph is activated only when the scroll reaches the graph.
        </p>
        <p>
            Data object is converted to an array and each section is represented with its corresponding width. 
            <ol>
                <li>Convert Data to list</li>
                <li>Create DOM elements</li>
                <li>Create axes</li>
                <li>Create bars</li>
            </ol>
        </p>
    </section>

    <!-- bar.js uses this div to build a bar chart -->
    <div class='bar-chart'></div>

    <!-- Footer -->
    <section class="filler">
        <h2>
            Useful Links
        </h2>
        <p>
            Here are some resources I used to put this together. Please feel free to pull the Github repo start playing with it. 
            <ol>
                <li>This site: <a href="https://cankadir.github.io/INFO_696/scrolly/"> https://cankadir.github.io/INFO_696/scrolly/</a> </li>
                <li>Link to Repo: <a href="https://github.com/cankadir/INFO_696">https://github.com/cankadir/INFO_696</a></li>
                <li>Original Pudding Article: <a href="https://pudding.cool/process/scrollytelling-sticky/">https://pudding.cool/process/scrollytelling-sticky/</a></li>
                <li>Basic D3 Bar Chart: <a href="https://d3-graph-gallery.com/graph/barplot_basic.html">https://d3-graph-gallery.com/graph/barplot_basic.html</a></li>
            </ol>
        </p>
    </section>

</body>

<!-- JS files are loaded here -->
<!-- It is important that they are loaded after the DOM elements as they make use of them, they need to be created beforehand -->
<script type="module" src="bar.js"></script>
<script type="module" src="scroll.js"></script>

</html>